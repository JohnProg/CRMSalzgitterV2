<td-layout-nav >
  <div td-toolbar-content layout="row" layout-align="center center" flex>
    <span>{{ 'HOME.MENU.PURCHASEORDER.DISPLAYNAME' | translate }}</span>
    <div flex></div>
  </div>
  <td-layout-manage-list #manageList [opened]="_mediaService.registerQuery('gt-sm') | async" [mode]="(_mediaService.registerQuery('gt-sm') | async) ? 'side' : 'push'"
    [sidenavWidth]="(_mediaService.registerQuery('gt-xs') | async) ? '180px' : '100%'">
    <md-toolbar td-sidenav-content>
       <button md-button routerLink="/purchaseorder">Go to Index</button>
    </md-toolbar>
    <md-nav-list td-sidenav-content>
      <a md-list-item md-ripple class="block relative" (click)=" linkClick(1) && (!this._mediaService.query('gt-sm') && this.manageList.close()) ">
        <md-icon md-list-icon>dashboard</md-icon>
        {{ "HEADER" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(2) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idPurchase > 0">
        <md-icon md-list-icon>dashboard</md-icon>
        {{ "DETAILS" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(3) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idPurchase > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        {{ "DIALOGS" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(4) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idPurchase > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        {{ "DOCUMENTS" | translate}}
      </a>
    </md-nav-list>

    <div td-toolbar-content layout="row" layout-align="start center" flex>

      <crm-gactions flex></crm-gactions>
      <button md-mini-fab class="" tooltip="Go to OPP" (click)="goToOpp()" aria-label="Add Item" *ngIf="scrId == 1"  >
          <md-icon>business</md-icon>
      </button>
      
      <button md-mini-fab class="" tooltip="Go to QFS" (click)="goToQFS()" aria-label="Add Item" *ngIf="scrId == 1"  >
          <md-icon>business</md-icon>
      </button>

      <button md-mini-fab class="" tooltip="Go to QTC" (click)="goToQTC()" aria-label="Add Item" *ngIf="scrId == 1"  >
          <md-icon>business</md-icon>
      </button>
    </div>

       <div flex>
    <md-card>
      <md-card-content>

        <crm-purchaseordereditorheader [idPurchase]="idPurchase"  *ngIf="scrId == 1"></crm-purchaseordereditorheader>
        <crm-purchaseordereditordetail [idPurchase]="idPurchase" *ngIf="scrId == 2 "></crm-purchaseordereditordetail>

        <crm-documentviewer [idParent]="idPurchase" baseApi="PurchaseOrderDocument" *ngIf="scrId == 4 "></crm-documentviewer>


        <crm-editorbasedialog [idParent]="idPurchase" 
                [baseApi]="'PurchaseOrderDialog'"
                parentField="IdPurchaseOrder"

                documentBaseApi="PurchaseOrderDocument"
                documentParentField="IdPurchaseOrderDialog"
                *ngIf="scrId == 3 "></crm-editorbasedialog>

      </md-card-content>
    </md-card>
</div>
  </td-layout-manage-list>
</td-layout-nav>


<mat-card>
    <mat-card-content>


 

        <form  #editform="ngForm"  id="editform" flex (ngSubmit)="submitForm(form)">
                <ng-template [tdLoading]="loadName" tdLoadingStrategy="overlay">

            <div layout-gt-sm="row" layout-lt-md="column" layout-margin>
                <mat-form-field flex>
                    <input matInput #companyName flex name="companyName" [(ngModel)]="itemEdit.companyName" required placeholder="Name" maxlength="250"
                    />
                    <mat-hint align="end">{{companyName.value.length}} / 250</mat-hint>
                </mat-form-field>
            </div>
            <div layout-gt-sm="row" layout-lt-md="column" layout-margin>
                <mat-form-field flex-gt-sm="75">
                    <input matInput #street name="street" [(ngModel)]="itemEdit.street" required placeholder="Street" maxlength="100" />
                    <mat-hint align="end">{{street.value.length}} / 100</mat-hint>
                </mat-form-field>
                <mat-form-field flex-gt-sm="25">
                    <input matInput #number name="number" [(ngModel)]="itemEdit.number" required placeholder="Number" maxlength="50" />
                    <mat-hint align="end">{{number.value.length}} / 50</mat-hint>
                </mat-form-field>
            </div>
            <crm-selectcolony name="zipcode" byType="1" [(ngModel)]="itemEdit.idColony"></crm-selectcolony>

            <div layout-gt-sm="row" layout-lt-sm="row" layout-margin>
                <mat-form-field flex-gt-sm="50">
                    <input matInput #phone flex name="phone" [(ngModel)]="itemEdit.phone" placeholder="Phone" maxlength="50" />
                    <mat-hint align="end">{{phone.value.length}} / 50</mat-hint>
                </mat-form-field>
                <mat-form-field flex-gt-sm="50">
                    <input matInput #fax flex name="fax" [(ngModel)]="itemEdit.fax" required placeholder="Fax" maxlength="50" />
                    <mat-hint align="end">{{fax.value.length}} / 50</mat-hint>
                </mat-form-field>
            </div>



            <div layout-gt-sm="row" layout-lt-md="column" layout-margin>


                <mat-form-field flex-gt-sm="50">
                    <input matInput #legalResponsible flex name="legalResponsible" required [(ngModel)]="itemEdit.legalResponsible" placeholder="Legal Responsible"  />
                    <mat-hint align="end">{{legalResponsible.value.length}} / 150</mat-hint>
                </mat-form-field>
                <mat-form-field flex-gt-sm="25">
                    <input matInput #rfc flex name="rfc" [(ngModel)]="itemEdit.rfc" required placeholder="RFC"  />
                    <mat-hint align="end">{{rfc.value.length}} / 50</mat-hint>
                </mat-form-field>
                <mat-form-field flex-gt-sm="25">
                    <input matInput #taxAmount flex name="taxAmount" [(ngModel)]="itemEdit.taxAmount"  placeholder="Tax amount " currencyMask [options]="{ prefix: '', suffix: '%' }"
                    />
                </mat-form-field>
            </div>

            <div layout-gt-sm="row" layout-lt-md="column" flex layout-margin>
                <section flex-gt-sm="45">
                <mat-form-field tdFileDrop (fileDrop)="files = $event" (click)="fileInput.inputElement.click()" (keyup.enter)="fileInput.inputElement.click()"
                    (keyup.delete)="fileInput.clear()" (keyup.backspace)="fileInput.clear()" flex>
                    <input matInput placeholder="select or drop file" [value]="files?.length ? (files?.length + ' file') : files?.name" 
                        readonly/>
                </mat-form-field>
                <button mat-icon-button *ngIf="files" (click)="fileInput.clear()" (keyup.enter)="fileInput.clear()">
                <mat-icon>cancel</mat-icon>
                </button>
                <td-file-input class="push-left-sm push-right-sm" #fileInput name="fileInput" multiple="false"  (select)="uploadFile($event)" [(ngModel)]="files">
                    <mat-icon>folder</mat-icon>
                    <span class="text-upper">Browse...</span>
                </td-file-input>
                </section>
                 <section flex-gt-sm="55" >
                    <img [src]="'data:image/jpg;base64,'+ itemEdit.logo"  /> 
                 </section>  
            </div>

        </ng-template>
        </form>


    </mat-card-content>
</mat-card>

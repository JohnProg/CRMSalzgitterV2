<form #editform="ngForm" id="editform" flex (ngSubmit)="submitForm(form)" novalidate>

  <ng-template [tdLoading]="loadName" tdLoadingStrategy="overlay">
    <div layout-gt-sm="row" layout-lt-md="column" layout-margin>

      <mat-form-field flex-gt-sm="35">
        <mat-select class="cbxClass" #idCustomer name="idCustomer"  required="true" placeholder="Customer" [(ngModel)]="itemEdit.idCustomer"
          (selectionChange)="onCustomerChange($event)">

          <mat-option *ngFor="let i of catCustomer 		" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>



      <mat-form-field flex-gt-sm="35">
        <mat-select class="cbxClass" #idCustomerContact name="idCustomerContact" flex required="true" placeholder="Customer Contact"
          [(ngModel)]="itemEdit.idCustomerContact">

          <mat-option *ngFor="let i of catCustomerContact  		" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>




      <mat-form-field flex-gt-sm="30">
        <mat-select class="cbxClass" #idStatus name="idStatus" flex disabled="true" placeholder="Status" [(ngModel)]="itemEdit.idStatus">
          <mat-option *ngFor="let i of catStatus" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>


    </div>

    <div flex layout-gt-sm="row" layout-lt-md="column" layout-margin>
      <mat-form-field flex>
        <textarea matInput flex="100" #oppNotes name="oppNotes" maxlength="500" required placeholder="Project name" [(ngModel)]="itemEdit.oppNotes"></textarea>
        <mat-hint flex align="end">{{oppNotes.value.length}} / 500</mat-hint>
      </mat-form-field>
    </div>
    <div layout-gt-sm="row" layout-lt-md="column" layout-margin>
      <mat-form-field flex-gt-sm="35">
        <mat-select class="cbxClass" #idResponsible name="idResponsible" flex required="true" placeholder="Responsible" [(ngModel)]="itemEdit.idResponsible">

          <mat-option *ngFor="let i of catResponsible  		" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>




      <mat-form-field flex-gt-sm="35">
        <mat-select class="cbxClass" #idCurrency name="idCurrency" flex required="true" placeholder="Currency" [(ngModel)]="itemEdit.idCurrency">
          <mat-option *ngFor="let i of catCurrencies" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>



      <mat-form-field flex-gt-sm="30">
        <mat-select class="cbxClass" #idContact name="idContact" flex required="true" placeholder="Contact" [(ngModel)]="itemEdit.idContact">

          <mat-option *ngFor="let i of catContact  		" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>


    </div>
    <div layout-gt-sm="row" layout-lt-md="column" layout-margin>

      <mat-form-field flex-gt-sm="35">
        <mat-select class="cbxClass" #idMarket name="idMarket" flex required="true" placeholder="Market" [(ngModel)]="itemEdit.idMarket">

          <mat-option *ngFor="let i of catMarket  	" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>



      <mat-form-field flex-gt-sm="35">
        <mat-select class="cbxClass" #idSector name="idSector" flex required="true" placeholder="Sector" [(ngModel)]="itemEdit.idSector">

          <mat-option *ngFor="let i of catSector  	" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>



      <mat-form-field flex-gt-sm="30">
        <mat-select class="cbxClass" #idPort name="idPort" flex required="true" placeholder="Port" [(ngModel)]="itemEdit.idPort">

          <mat-option *ngFor="let i of catPort  		" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>


    </div>

    <div layout-gt-sm="row" layout-lt-md="column" layout-margin>

      <mat-form-field flex-gt-sm="25">
        <mat-select class="cbxClass" #idTransactionFlow name="idTransactionFlow" flex required="true" placeholder="Transaction Flow"
          [(ngModel)]="itemEdit.idTransactionFlow">
          <mat-option *ngFor="let i of catTransactionFlow" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>



      <mat-form-field flex-gt-sm="25">
        <mat-select class="cbxClass" #idIncoTerm name="idIncoTerm" flex required="true" placeholder="Inco Terms" [(ngModel)]="itemEdit.idIncoTerm"
          (selectionChange)="incoTermChange($event)">

          <mat-option *ngFor="let i of catIncoTerm  		" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>



      <mat-form-field flex-gt-sm="25">
        <mat-select class="cbxClass" #idLinerTerm name="idLinerTerm" flex required="true" placeholder="Liner Terms" [(ngModel)]="itemEdit.idLinerTerms">

          <mat-option *ngFor="let i of catLinerTerm  " [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.nameDescription || i.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>


      <section flex-gt-sm="25">
        <mat-slide-toggle #asImporter name="asImporter" [(ngModel)]="itemEdit.asImporter">As Importer</mat-slide-toggle>
      </section>
    </div>
    <div layout-gt-sm="row" layout-lt-md="column" layout-margin *ngIf="deliveryRequired">
      <mat-form-field>
        <mat-select class="cbxClass" #idDeliveryPoint name="idDeliveryPoint" flex required="true" placeholder="Delivery Point" [(ngModel)]="itemEdit.idDeliveryPoint">

          <mat-option *ngFor="let i of catDeliveryPoint  " [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
            {{ i.cDPName }}
          </mat-option>
        </mat-select>
      </mat-form-field>

    </div>
    <div layout-gt-sm="row" layout-lt-md="column" layout-margin>
      <section flex-gt-sm="25">
        <mat-form-field>
          <mat-select class="cbxClass" #idTypeOpp name="idTypeOpp" flex required="true" placeholder="Type Opportunity" [(ngModel)]="itemEdit.idTypeOpp">
            <mat-option *ngFor="let i of catTypeOpp" [disabled]="i.isActive != undefined ? !i.isActive : false" [value]="i.id">
              {{ i.nameDescription || i.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>

      </section>
      <section flex-gt-sm="25">
        <mat-slide-toggle #isAutomotive name="isAutomotive" [(ngModel)]="itemEdit.isAutomotive">Is Automotive</mat-slide-toggle>
      </section>
    </div>

  </ng-template>
</form>

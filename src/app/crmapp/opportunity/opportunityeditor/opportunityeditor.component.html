<td-layout-nav >
  <div td-toolbar-content layout="row" layout-align="center center" flex>
    <span>{{ 'HOME.MENU.OPPORTUNITY.DISPLAYNAME' | translate }}</span>
    <div flex></div>
  </div>
  <td-layout-manage-list #manageList opened="true" mode="side"
    sidenavWidth="180px">
    <md-toolbar td-sidenav-content>
       <button md-button routerLink="/opportunity">Opp. Index</button>
    </md-toolbar>
    <md-nav-list td-sidenav-content>
      <a md-list-item md-ripple class="block relative" (click)=" linkClick(1) && (!this._mediaService.query('gt-sm') && this.manageList.close()) ">
        <md-icon md-list-icon>dashboard</md-icon>
        {{ "HEADER" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(2) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>dashboard</md-icon>
        {{ "DETAILS" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(3) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        {{ "DIALOGS" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(4) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        {{ "DOCUMENTS" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(5) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        Quotation from Suppliers
      </a> 
      <a md-list-item md-ripple class="block relative" (click)="linkClick(6) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        Quotation to Customers
      </a>    
      <a md-list-item md-ripple class="block relative" (click)="linkClick(7) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        Purchase Orders
      </a>                 
    </md-nav-list>

    <div td-toolbar-content layout="row" layout-align="start center" flex>
        <crm-gactions flex></crm-gactions>
    </div>

       <div flex>
    <md-card>
      <md-card-content>

        <crm-opportunityheader [idDoc]="idOpp" *ngIf="scrId == 1" [quoteType]="quoteType"></crm-opportunityheader>

        <crm-opportunitydetail [idOpp]="idOpp" [opp]="opp" *ngIf="scrId == 2 "></crm-opportunitydetail>

        <crm-editorbasedialog [idParent]="idOpp" 
                [baseApi]="'OpportunityDialog'"
                parentField="idOpportunity"

                documentBaseApi="OpportunityDocument"
                documentParentField="idOpportunityDialog"
                *ngIf="scrId == 3 "
                catName="Opportunity dialog "
                [idCustomer]="idCustomer"
                
                ></crm-editorbasedialog>

        <crm-documentviewer [idParent]="idOpp" baseApi="OpportunityDocument" 
        *ngIf="scrId == 4 "
        catName="Opportunity Document "></crm-documentviewer>

        <crm-quotationfromsupplierindexviewer 
             [idParent]="idOpp" 
             [byType]="quoteType"              
             *ngIf="scrId == 5 "
             [allowChild]="opp.allowChild"
             
             ></crm-quotationfromsupplierindexviewer>

        <crm-quotationtocustomerindexviewer 
                 [idParent]="idOpp" 
                 [byType]="quoteType" 
                 [allowChild]="false"
                 *ngIf="scrId == 6 "></crm-quotationtocustomerindexviewer>
        <crm-purchaseorderindexviewer 
              [idParent]="idOpp" 
              [byType]="quoteType"  
              [allowChild]="false"
              *ngIf="scrId == 7"></crm-purchaseorderindexviewer>
        
         
              
        
      </md-card-content>
    </md-card>
</div>
  </td-layout-manage-list>
</td-layout-nav>
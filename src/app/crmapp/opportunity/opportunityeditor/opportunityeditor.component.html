<td-layout-nav >
  <div td-toolbar-content layout="row" layout-align="center center" flex>
    <span>{{ 'HOME.MENU.OPPORTUNITY.DISPLAYNAME' | translate }}</span>
    <div flex></div>
  </div>
  <td-layout-manage-list #manageList [opened]="_mediaService.registerQuery('gt-sm') | async" [mode]="(_mediaService.registerQuery('gt-sm') | async) ? 'side' : 'push'"
    [sidenavWidth]="(_mediaService.registerQuery('gt-xs') | async) ? '180px' : '100%'">
    <md-toolbar td-sidenav-content>
       <button md-button routerLink="/opportunity">Opp. Index</button>
    </md-toolbar>
    <md-nav-list td-sidenav-content>
      <a md-list-item md-ripple class="block relative" (click)=" linkClick(1) && (!this._mediaService.query('gt-sm') && this.manageList.close()) ">
        <md-icon md-list-icon>dashboard</md-icon>
        {{ "HEADER" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(2) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>dashboard</md-icon>
        {{ "DETAILS" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(3) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        {{ "DIALOGS" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(4) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        {{ "DOCUMENTS" | translate}}
      </a>
      <a md-list-item md-ripple class="block relative" (click)="linkClick(5) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        Quotation from Suppliers
      </a> 
      <a md-list-item md-ripple class="block relative" (click)="linkClick(6) && (!this._mediaService.query('gt-sm') && this.manageList.close()) " *ngIf="idOpp > 0">
        <md-icon md-list-icon>insert_chart</md-icon>
        Quotation to Customer
      </a>             
    </md-nav-list>

    <div td-toolbar-content layout="row" layout-align="start center" flex>
        <crm-gactions flex></crm-gactions>
    </div>

       <div flex>
    <md-card>
      <md-card-content>

        <crm-opportunityheader [idOpp]="idOpp" *ngIf="scrId == 1"></crm-opportunityheader>

        <crm-opportunitydetail [idOpp]="idOpp" *ngIf="scrId == 2 "></crm-opportunitydetail>

        <crm-editorbasedialog [idParent]="idOpp" 
                [baseApi]="'OpportunityDialog'"
                parentField="IdOpportunityDialog"

                documentBaseApi="OpportunityDocument"
                documentParentField="IdOpportunityDialog"
                *ngIf="scrId == 3 "></crm-editorbasedialog>

        <crm-documentviewer [idParent]="idOpp" baseApi="OpportunityDocument" *ngIf="scrId == 4 "></crm-documentviewer>

        <crm-quotationfromsupplierindexviewer [idOpp]="idOpp" *ngIf="scrId == 5 "></crm-quotationfromsupplierindexviewer>

        <crm-quotationtocustomerindexviewer [idOpp]="idOpp" *ngIf="scrId == 6 "></crm-quotationtocustomerindexviewer>

      </md-card-content>
    </md-card>
</div>
  </td-layout-manage-list>
</td-layout-nav>